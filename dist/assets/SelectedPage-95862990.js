import{R as B,p as D,e as n,z as r,A as c,s as L,ab as _,r as b,v as j,f as k,o as F,k as O,a as u,j as t,H as R,I as E,F as S,aR as G,_ as M,B as m}from"./index-b99cb1f6.js";import{T as $}from"./Textfield-11e78aad.js";import{A as z}from"./ActionButtonGroup-4a459b8b.js";function J(){B(D);const l=n(r)[0],a=n(c(l)),i=n(c(a.containingDoenetId));i.parentDoenetId;const I=i.doenetId,v=n(L("courseId")),{create:f,renameItem:h,compileActivity:H,deleteItem:y,copyItems:K,cutItems:N}=_(v),[o,s]=b.useState(a.label);j(),b.useEffect(()=>{o!==a.label&&s(a.label)},[l]);const A=k();let P=F(({snapshot:e,set:d})=>async()=>{const x=await e.getPromise(r);d(O,null),d(r,[]);for(let w of x)d(c(w),C=>{let p={...C};return p.isSelected=!1,p})});const g=()=>{let e=o;o===""&&(e=a.label,a.label===""&&(e="Untitled"),s(e)),a.label!==e&&h(l,e)};let T=u("h2",{"data-test":"infoPanelItemLabel",style:{margin:"16px 5px"},children:[t(R,{icon:E})," ",a.label]});return u(S,{children:[T,t(z,{vertical:!0,children:t(G,{width:"menu",value:"Edit Page",dataTest:"Edit Page",onClick:()=>{P(),A(`/courseactivityeditor/${I}/${l}`)}})}),t($,{label:"Label",dataTest:"Label Page",vertical:!0,width:"menu",value:o,onChange:e=>s(e.target.value),onKeyDown:e=>{e.keyCode===13&&g()},onBlur:g}),t("br",{}),u(M,{vertical:!0,children:[t(m,{width:"menu",onClick:()=>f({itemType:"page"}),value:"Add Page",dataTest:"Add Page"}),i.type=="activity"?t(m,{width:"menu",onClick:()=>f({itemType:"order"}),value:"Add Order",dataTest:"Add Order"}):null]}),t("br",{}),t(m,{width:"menu",value:"Delete Page",dataTest:"Delete Page",alert:!0,onClick:e=>{e.preventDefault(),e.stopPropagation(),y({doenetId:l})}})]})}export{J as default};
