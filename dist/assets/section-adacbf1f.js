import{ao as A,bl as V,r as R,a as n,F as f,j as i,H as b,af as T,a$ as L,bn as v,bq as _,$ as I,aP as j,br as E}from"./index-a1cd8b25.js";const F=A.memo(function(B){var C;let{name:P,id:t,SVs:e,children:c,actions:m,callAction:g}=V(B),y=r=>{g({action:m.recordVisibilityChange,args:{isVisible:r}})};if(R.useEffect(()=>()=>{g({action:m.recordVisibilityChange,args:{isVisible:!1}})},[]),e.hidden)return null;let d=R.useRef(null);const w=()=>{d.current="unvalidated",e.justSubmitted&&(e.creditAchieved===1?d.current="correct":e.creditAchieved===0?d.current="incorrect":d.current="partialcorrect")};let k=()=>g({action:m.submitAllAnswers}),a;if(e.titleChildName){for(let[r,p]of c.entries())if(((C=p==null?void 0:p.props)==null?void 0:C.componentInstructions.componentName)===e.titleChildName){a=c[r],c.splice(r,1);break}}a?a=n(f,{children:[e.titlePrefix,a]}):e.inAList||(a=e.title);let o=null,u=t+"_title";e.collapsible&&(e.open?a=n(f,{children:[i(b,{icon:T})," ",a," (click to close)"]}):a=n(f,{children:[i(b,{icon:L})," ",a," (click to open)"]}));let s={};switch((e.collapsible||e.boxed)&&(s={marginBlockStart:0,marginBlockEnd:0}),e.level){case 0:o=i("h1",{id:u,style:s,children:a});break;case 1:o=i("h2",{id:u,style:s,children:a});break;case 2:o=i("h3",{id:u,style:s,children:a});break;case 3:o=i("h4",{id:u,style:s,children:a});break;case 4:o=i("h5",{id:u,style:s,children:a});break;default:o=i("h6",{id:u,style:s,children:a});break}let l=null;if(e.createSubmitAllButton&&!e.suppressCheckwork){w();let r={height:"23px",display:"inline-block",backgroundColor:"var(--mainBlue)",padding:"1px 6px 1px 6px",color:"white",fontWeight:"bold",marginBottom:"30px"},p=e.submitLabel;if(e.showCorrectness||(p=e.submitLabelNoCorrectness),l=n("button",{id:t+"_submit",tabIndex:"0",style:r,onClick:k,onKeyPress:x=>{x.key==="Enter"&&k()},children:[i(b,{icon:_,transform:{rotate:90}})," ",p]}),e.showCorrectness){if(d.current==="correct")r.backgroundColor="var(--mainGreen)",l=n("span",{id:t+"_correct",style:r,children:[i(b,{icon:I}),"  Correct"]});else if(d.current==="incorrect")r.backgroundColor="var(--mainRed)",l=n("span",{id:t+"_incorrect",style:r,children:[i(b,{icon:j}),"  Incorrect"]});else if(d.current==="partialcorrect"){r.backgroundColor="var(--mainYellow)";let S=`${Math.round(e.creditAchieved*100)}% Correct`;l=i("span",{id:t+"_partial",style:r,children:S})}}else d.current!=="unvalidated"&&(r.backgroundColor="var(--mainPurple)",l=n("span",{id:t+"_saved",style:r,children:[i(b,{icon:E}),"  Response Saved"]}));l=i("div",{children:l})}e.asList&&(c=i("ol",{children:c.map(r=>i("li",{children:r}))}));let h=n(f,{children:[i("a",{name:t}),o,c,l]});if(e.collapsible){let r=null;e.open&&(r=n("div",{style:{display:"block",padding:"6px"},children:[c,l]})),h=n("div",{style:{border:"var(--mainBorder)",borderRadius:"var(--mainBorderRadius)",marginTop:"24px"},children:[n("div",{style:{backgroundColor:"var(--mainGray)",cursor:"pointer",padding:"6px",borderBottom:e.open?"var(--mainBorder)":"none",borderTopLeftRadius:"var(--mainBorderRadius)",borderTopRightRadius:"var(--mainBorderRadius)"},onClick:()=>g({action:e.open?m.closeSection:m.revealSection}),children:[i("a",{name:t}),o]}),r]})}else e.boxed&&(h=n("div",{style:{border:"var(--mainBorder)",borderRadius:"var(--mainBorderRadius)",marginTop:"24px"},children:[n("div",{style:{padding:"6px",borderBottom:"var(--mainBorder)",backgroundColor:"var(--mainGray)",borderTopLeftRadius:"var(--mainBorderRadius)",borderTopRightRadius:"var(--mainBorderRadius)"},children:[i("a",{name:t}),o]}),n("div",{style:{display:"block",padding:"6px"},children:[c,l]})]}));switch(e.containerTag){case"aside":return i(v,{partialVisibility:!0,onChange:y,children:n("aside",{id:t,style:{margin:"12px 0"},children:[" ",h," "]})});case"article":return i(v,{partialVisibility:!0,onChange:y,children:n("article",{id:t,style:{margin:"12px 0"},children:[" ",h," "]})});case"div":return i(v,{partialVisibility:!0,onChange:y,children:n("div",{id:t,style:{margin:"12px 0"},children:[" ",h," "]})});case"none":return i(f,{children:h});default:return i(v,{partialVisibility:!0,onChange:y,children:n("section",{id:t,style:{margin:"12px 0"},children:[" ",h," "]})})}});export{F as default};
