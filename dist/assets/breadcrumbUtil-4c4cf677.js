import{R as f,p as a,l,J as w,aA as p,H as k,I as m,g}from"./index-e32334a0.js";import{e as y}from"./RoleDropdown-5eaaee97.js";import{studentData as I,assignmentData as A}from"./Gradebook-682bc2ff.js";function V(){const e=f(a);return{label:"Courses",onClick:()=>{e({page:"course",tool:"courseChooser",view:""})}}}function D(e){const t=f(a),n=l(w(e));return{label:n==null?void 0:n.label,onClick:()=>{t({page:"course",tool:"dashboard",view:"",params:{courseId:e}})}}}const v=p({key:"navigationSelectorFamily/Default",get:({courseId:e,parentDoenetId:t})=>async({get:n})=>{async function s({courseId:u,parentDoenetId:o}){if(o===""||o===void 0)return[];const{label:c,parentDoenetId:r,type:b}=await n(k(o));return u===r?[{label:c,parentDoenetId:o,type:b}]:[...await s({courseId:u,parentDoenetId:r}),{label:c,parentDoenetId:o,type:b}]}return await s({courseId:e,parentDoenetId:t})}});function N(e,t){const n=f(a),s=l(v({courseId:e,parentDoenetId:t})),u=[{label:"Content",onClick:()=>{n({page:"course",tool:"navigation",view:"",params:{courseId:e}})}}];for(let{label:o,parentDoenetId:c,type:r}of s)switch(r){case"section":u.push({label:o,onClick:()=>{n({page:"course",tool:"navigation",view:"",params:{courseId:e,sectionId:c}})}});break;default:console.warn(`Unsupported navigration crumb type: ${r}`)}return u}function $({pageId:e,doenetId:t,linkPageId:n}){const s=f(a),u=l(k(e));let{label:o}=u;const c=l(k(n));n&&({label:o}=c);const r=l(k(t));let{label:b}=r,i=[{label:b??"_",onClick:()=>{s({page:"course",tool:"editor",view:"",params:{doenetId:t,pageId:e}})}}];if(!r.isSinglePage&&r.type!="bank"&&!n){let d=m(r.content);i=[{label:b??"_",onClick:()=>{s({page:"course",tool:"editor",view:"",params:{doenetId:t,pageId:d}})}},{label:o??"_",onClick:()=>{s({page:"course",tool:"editor",view:"",params:{doenetId:t,pageId:e}})}}]}return r.type=="bank"&&(i=[{label:o??"_",onClick:()=>{s({page:"course",tool:"editor",view:"",params:{doenetId:t,pageId:e}})}}]),n&&(i=[{label:o??"_",onClick:()=>{s({page:"course",tool:"editor",view:"",params:{linkPageId:n}})}}]),i}function x({doenetId:e}){const t=f(a),{label:n}=l(k(e));return{label:n??"_",onClick:()=>{t({page:"course",tool:"assignment",view:"",params:{doenetId:e}})}}}function R(e){const t=f(a);return{label:"People",onClick:()=>{t({page:"course",tool:"people",view:"",params:{courseId:e}})}}}function G(e,t){const n=f(a),s=l(v({courseId:e,parentDoenetId:t})),u=[{label:"Data",onClick:()=>{n({page:"course",tool:"data",view:"",params:{courseId:e}})}}];for(let{label:o,parentDoenetId:c,type:r}of s)switch(r){case"section":u.push({label:o,onClick:()=>{n({page:"course",tool:"data",view:"",params:{courseId:e,sectionId:c}})}});break;default:console.warn(`Unsupported navigration crumb type: ${r}`)}return u}function O(){var r,b;const[{params:e,tool:t},n]=g(a);let s=[];const{canViewAndModifyGrades:u}=l(y(e==null?void 0:e.courseId)),o=l(I),c=l(A);if(u=="1"){let i={courseId:e==null?void 0:e.courseId};s.push({label:"Gradebook",onClick:()=>{n({page:"course",tool:"gradebook",view:"",params:i})}})}if(t=="gradebook")return s;if(t=="gradebookStudent"||u!="1"&&t=="gradebookStudentAssignment"||(e==null?void 0:e.previousCrumb)=="student"&&t=="gradebookStudentAssignment"){let i="Gradebook";if(u=="1"){const C=o[e==null?void 0:e.userId];i=`${C.firstName} ${C.lastName}`}let d={courseId:e==null?void 0:e.courseId,userId:e==null?void 0:e.userId};s.push({label:i,onClick:()=>{n({page:"course",tool:"gradebookStudent",view:"",params:d})}})}if(t=="gradebookStudent")return s;if(t=="gradebookAssignment"||(e==null?void 0:e.previousCrumb)=="assignment"&&t=="gradebookStudentAssignment")if(u!="1")s.push({label:"Not Available"});else{let i=(r=c==null?void 0:c[e==null?void 0:e.doenetId])==null?void 0:r.label;i||(i="_");let d={courseId:e==null?void 0:e.courseId,doenetId:e==null?void 0:e.doenetId};s.push({label:i,onClick:()=>{n({page:"course",tool:"gradebookAssignment",view:"",params:d})}})}if(t=="gradebookAssignment")return s;if(u!="1"){let i=(b=c==null?void 0:c[e==null?void 0:e.doenetId])==null?void 0:b.label;i||(i="_");let d={courseId:e==null?void 0:e.courseId,userId:e==null?void 0:e.userId,doenetId:e==null?void 0:e.doenetId};s.push({label:i,onClick:()=>{n({page:"course",tool:"gradebookStudentAssignment",view:"",params:d})}})}else{let i="_";if((e==null?void 0:e.previousCrumb)=="student"&&(i=c[e==null?void 0:e.doenetId].label),(e==null?void 0:e.previousCrumb)=="assignment"){const C=o[e==null?void 0:e.userId];i=`${C.firstName} ${C.lastName}`}let d={courseId:e==null?void 0:e.courseId,userId:e==null?void 0:e.userId,doenetId:e==null?void 0:e.doenetId,previousCrumb:e==null?void 0:e.previousCrumb};s.push({label:i,onClick:()=>{n({page:"course",tool:"gradebookStudentAssignment",view:"",params:d})}})}return s}export{D as a,N as b,R as c,G as d,$ as e,O as f,x as g,V as u};
