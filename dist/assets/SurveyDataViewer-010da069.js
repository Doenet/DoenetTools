import{l as m,m as p,r as u,a3 as b,j as a,a as v,k as I}from"./index-93892358.js";function O(){let n=m(p("doenetId")),y=m(p("driveId")),[o,S]=u.useState(null);if(u.useEffect(()=>{async function l(t){let{data:r}=await I.get("/api/getSurveyData.php",{params:{doenetId:t}});S(r.responses)}n&&l(n)},[n]),!y||!o)return null;let i=["User's Name","Email","Student Id"];for(let l of o){let t=JSON.parse(l.stateVariables,b);for(let r of Object.keys(t))if(!i.includes(r)){let e=t[r];(e!=null&&e.immediateValue||e!=null&&e.value||e!=null&&e.allSelectedIndices)&&i.push(r)}}let c=[];for(let[l,t]of Object.entries(o)){let r=JSON.parse(t.stateVariables,b),e=[];for(let[h,x]of Object.entries(i))if(h>2){let s=r[x],d="N/A";s!=null&&s.immediateValue?d=s.immediateValue:s!=null&&s.value?d=s.value:s!=null&&s.allSelectedIndices&&(d=s.allSelectedIndices[0]),e.push(a("td",{children:d},`survey${l}-${h}`))}e.unshift(a("td",{children:t.studentId})),e.unshift(a("td",{children:t.email})),e.unshift(a("td",{children:`${t.firstName} ${t.lastName}`})),c.push(a("tr",{style:{borderBottom:"1pt solid var(--canvastext)"},children:e}))}let f=[];for(let[l,t]of Object.entries(i))f.push(a("th",{style:{width:"150px"},children:t},`surveyHead${l}`));return a("div",{style:{margin:"5px"},children:v("table",{style:{borderCollapse:"collapse"},children:[a("thead",{children:a("tr",{style:{borderBottom:"2pt solid var(--canvastext)"},children:f})}),a("tbody",{children:c})]})})}export{O as default};
