import{y as u,l as o,m as t,w as l,j as g,k as y,z as L}from"./index-762a3e7c.js";import{c as f}from"./index-fcf36459.js";import{A as I}from"./ActionButton-98fac103.js";import{v as k}from"./EditorViewerRecoil-2df17a6a.js";function w(){const s=u(),a=o(t("pageId")),n=o(t("doenetId")),i=o(l),d=o(k);async function r(){let c={doenetML:d,pageId:a,courseId:i,saveAsCid:!0};const{data:e}=await y.post("/api/saveDoenetML.php",c);if(!e.success){console.error(e.message),s(e.message,L.ERROR);return}let p=e.cid,m=`<copy uri="doenet:doenetId=${n}&pageId=${a}&cid=${p}" />`;f(m)}return g(I,{width:"menu",dataTest:"Copy Page Link",value:"Copy Page Link",onClick:r})}export{w as default};
