import{av as L,bn as S,r as a,l as x,bs as F,bt as v,j as o,F as y}from"./index-61b6fc23.js";import{BoardContext as O,LINE_LAYER_OFFSET as b}from"./graph-1ff63df5.js";import"./css-14ccef8c.js";import"./visibility-sensor-398e690f.js";const P=L.memo(function h(g){let{name:U,id:s,SVs:e}=S(g);h.ignoreActionsWithoutCore=!0;const t=a.useContext(O);let n=a.useRef(null),r=a.useRef(null);const d=x(F);a.useEffect(()=>()=>{r.current!==null&&f()},[]);function m(){if(!e.haveFunction||e.boundaryValues.length!==2||!e.boundaryValues.every(Number.isFinite))return null;let l=d==="dark"?e.selectedStyle.fillColorDarkMode:e.selectedStyle.fillColor;l=l.toLowerCase();let i={name:e.labelForGraph,visible:!e.hidden,withLabel:e.showLabel&&e.labelForGraph!=="",fixed:!0,layer:10*e.layer+b,fillColor:l,fillOpacity:e.selectedStyle.fillOpacity,highlight:!1,curveLeft:{visible:!1},curveRight:{visible:!1}};i.label={highlight:!1};let c=v(e.fDefinition);return n.current=t.create("functiongraph",c,{visible:!1}),t.create("integral",[e.boundaryValues,n.current],i)}function f(){r.current&&(t.removeObject(r.current),r.current=null,t.removeObject(n.current),n.current=null)}if(t){if(r.current===null)r.current=m();else if(!e.haveFunction||e.boundaryValues.length!==2||!e.boundaryValues.every(Number.isFinite))f();else{let l=v(e.fDefinition);n.current.Y=l,r.current.visProp.visible=!e.hidden,r.current.visPropCalc.visible=!e.hidden;let[i,c]=e.boundaryValues,[C,R]=e.boundaryValues.map(l);r.current.curveLeft.coords.setCoordinates(JXG.COORDS_BY_USER,[i,C]),r.current.curveRight.coords.setCoordinates(JXG.COORDS_BY_USER,[c,R]);let p=10*e.layer+b;r.current.visProp.layer!==p&&r.current.setAttribute({layer:p});let u=d==="dark"?e.selectedStyle.fillColorDarkMode:e.selectedStyle.fillColor;u=u.toLowerCase(),r.current.visProp.fillcolor!==u&&(r.current.visProp.fillcolor=u),r.current.visProp.fillopacity!==e.selectedStyle.fillOpacity&&(r.current.visProp.fillopacity=e.selectedStyle.fillOpacity),r.current.curveLeft.needsUpdate=!0,r.current.curveLeft.update(),r.current.curveLeft.fullUpdate(),r.current.curveRight.needsUpdate=!0,r.current.curveLeft.update(),r.current.curveRight.fullUpdate(),r.current.needsUpdate=!0,r.current.curveLeft.update(),r.current.fullUpdate(),t.update(),t.fullUpdate(),t.updateRenderer()}return o(y,{children:o("a",{name:s})})}return e.hidden?null:o(y,{children:o("a",{name:s})})});export{P as default};
