import{e as m,s as p,l,j as u,B as c,g as f}from"./index-b99cb1f6.js";import{l as b}from"./CourseToolHandler-1f7a95ad.js";import{numberOfAttemptsAllowedAdjustmentAtom as w,currentAttemptNumber as N,cidChangedAtom as g}from"./AssignmentViewer-8302cdf6.js";import"./index-47ca4f11.js";import"./index.esm-a37d65f5.js";/* empty css             */import"./RoleDropdown-f3dc3e4f.js";import"./DropdownMenu-493863fd.js";function R(){const n=m(p("doenetId")),[a,d]=l(w),[r,A]=l(N),{numberOfAttemptsAllowed:o}=m(b(n)),i=m(g);let e=null;o!==null&&(e=Number(o)+Number(a));const s=e===null||r<e;return u(c,{value:"New Attempt",dataTest:"New Attempt",disabled:!s,onClick:async function(){if(s){if(i){let t=await f.post("/api/incrementAttemptsAllowedIfCidChanged.php",{doenetId:n});t.data.cidChanged&&d(Number(t.data.newNumberOfAttemptsAllowedAdjustment))}A(t=>t+1)}}})}export{R as default};
