import{l as m,m as A,g as s,j as u,B as c,k as f}from"./index-9d63439d.js";import{l as b}from"./CourseToolHandler-d3661515.js";import{numberOfAttemptsAllowedAdjustmentAtom as w,currentAttemptNumber as N,cidChangedAtom as g}from"./AssignmentViewer-07288d77.js";import"./index-df71c5ec.js";import"./index-fcf36459.js";import"./index-47ca4f11.js";import"./index.esm-d6b6ff57.js";import"./setPrototypeOf-51e8cf87.js";/* empty css             */import"./ButtonGroup-ec02b3e9.js";import"./ActivityViewer-90c65d6d.js";import"./activityUtils-5d3d0ed0.js";import"./visibility-sensor-aefdbbd5.js";import"./ActionButton-056b08c3.js";import"./RoleDropdown-2d4e4388.js";import"./DropdownMenu-421d3462.js";function q(){const o=m(A("doenetId")),[i,p]=s(w),[l,a]=s(N),{numberOfAttemptsAllowed:n}=m(b(o)),d=m(g);let e=null;n!==null&&(e=Number(n)+Number(i));const r=e===null||l<e;return u(c,{value:"New Attempt",dataTest:"New Attempt",disabled:!r,onClick:async function(){if(r){if(d){let t=await f.post("/api/incrementAttemptsAllowedIfCidChanged.php",{doenetId:o});t.data.cidChanged&&p(Number(t.data.newNumberOfAttemptsAllowedAdjustment))}a(t=>t+1)}}})}export{q as default};
