import{am as V,bj as A,r as h,j as n,bl as H,a as m}from"./index-66847aab.js";import{M as E}from"./index.esm-95ba1e15.js";const M=V.memo(function(g){var u;let{name:R,id:r,SVs:a,children:o,actions:c,callAction:d}=A(g),y=e=>{d({action:c.recordVisibilityChange,args:{isVisible:e}})};if(h.useEffect(()=>()=>{d({action:c.recordVisibilityChange,args:{isVisible:!1}})},[]),a.hidden||!o)return null;let f=o,s=null,l=null;if(a.captionChildName){let e;for(let[i,t]of o.entries())if(((u=t==null?void 0:t.props)==null?void 0:u.componentInstructions.componentName)===a.captionChildName){e=i;break}l=o[e],f.splice(e,1)}if(a.suppressFigureNameInCaption)l&&(s=n("div",{children:l}));else{let e=n("strong",{children:a.figureName});l?s=m("div",{children:[e,": ",l]}):s=n("div",{children:e})}const[C,p]=h.useState("center");function v(e){var i=document.createElement(e.nodeName),t;return i.setAttribute("style","margin:0; padding:0; font-family:"+(e.style.fontFamily||"inherit")+"; font-size:"+(e.style.fontSize||"inherit")),i.innerHTML="A",e.parentNode.appendChild(i),t=i.clientHeight,i.parentNode.removeChild(i),t}function b(){var e=document.getElementById(r+"_caption"),i=e.offsetHeight,t=v(document.getElementById(r+"_caption")),x=Math.round(i/t);return x}function N(){b()>=2?p("left"):p("center")}return n(H,{partialVisibility:!0,onChange:y,children:m("figure",{id:r,style:{margin:"12px 0"},children:[n("a",{name:r}),f,n("figcaption",{id:r+"_caption",children:n(E,{onResize:N,children:({measureRef:e})=>n("div",{ref:e,style:{textAlign:C},children:s})})})]})})});export{M as default};
