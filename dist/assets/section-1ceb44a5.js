import{aw as A,bn as S,r as x,a as n,F as m,j as r,i as p,bz as V,b2 as T,bp as _,a1 as I,a8 as L,bq as j}from"./index-1922ac75.js";import{V as g}from"./visibility-sensor-740cae0e.js";const G=A.memo(function(R){var C;let{name:D,id:t,SVs:e,children:d,actions:b,callAction:f}=S(R),v=i=>{f({action:b.recordVisibilityChange,args:{isVisible:i}})};if(x.useEffect(()=>()=>{f({action:b.recordVisibilityChange,args:{isVisible:!1}})},[]),e.hidden)return null;let c=x.useRef(null);const B=()=>{c.current="unvalidated",e.justSubmitted&&(e.creditAchieved===1?c.current="correct":e.creditAchieved===0?c.current="incorrect":c.current="partialcorrect")};let k=()=>f({action:b.submitAllAnswers}),a;if(e.titleChildName){for(let[i,h]of d.entries())if(((C=h==null?void 0:h.props)==null?void 0:C.componentInstructions.componentName)===e.titleChildName){a=d[i],d.splice(i,1);break}}a?a=n(m,{children:[e.titlePrefix,a]}):a=e.title;let l=null,s=t+"_title";switch(e.collapsible&&(e.open?a=n(m,{children:[r(p,{icon:V})," ",a," (click to close)"]}):a=n(m,{children:[r(p,{icon:T})," ",a," (click to open)"]})),e.level){case 0:l=r("h1",{id:s,children:a});break;case 1:l=r("h2",{id:s,children:a});break;case 2:l=r("h3",{id:s,children:a});break;case 3:l=r("h4",{id:s,children:a});break;case 4:l=r("h5",{id:s,children:a});break;default:l=r("h6",{id:s,children:a});break}let o=null;if(e.createSubmitAllButton&&!e.suppressCheckwork){B();let i={height:"23px",display:"inline-block",backgroundColor:"var(--mainBlue)",padding:"1px 6px 1px 6px",color:"white",fontWeight:"bold",marginBottom:"30px"},h=e.submitLabel;if(e.showCorrectness||(h=e.submitLabelNoCorrectness),o=n("button",{id:t+"_submit",tabIndex:"0",style:i,onClick:k,onKeyPress:y=>{y.key==="Enter"&&k()},children:[r(p,{icon:_,transform:{rotate:90}})," ",h]}),e.showCorrectness){if(c.current==="correct")i.backgroundColor="var(--mainGreen)",o=n("span",{id:t+"_correct",style:i,children:[r(p,{icon:I}),"  Correct"]});else if(c.current==="incorrect")i.backgroundColor="var(--mainRed)",o=n("span",{id:t+"_incorrect",style:i,children:[r(p,{icon:L}),"  Incorrect"]});else if(c.current==="partialcorrect"){i.backgroundColor="var(--mainYellow)";let w=`${Math.round(e.creditAchieved*100)}% Correct`;o=r("span",{id:t+"_partial",style:i,children:w})}}else c.current!=="unvalidated"&&(i.backgroundColor="var(--mainPurple)",o=n("span",{id:t+"_saved",style:i,children:[r(p,{icon:j}),"  Response Saved"]}));o=r("div",{children:o})}let u=n(m,{children:[r("a",{name:t}),l,d,o]});if(e.collapsible){let i=null;e.open&&(i=n("div",{style:{display:"block",padding:"6px"},children:[d,o]})),u=n("div",{style:{border:"var(--mainBorder)",borderRadius:"var(--mainBorderRadius)"},children:[n("div",{style:{backgroundColor:"var(--mainGray)",cursor:"pointer",padding:"6px",borderBottom:e.open?"var(--mainBorder)":"none",borderTopLeftRadius:"var(--mainBorderRadius)",borderTopRightRadius:"var(--mainBorderRadius)"},onClick:()=>f({action:e.open?b.closeSection:b.revealSection}),children:[r("a",{name:t}),l]}),i]})}else e.boxed&&(u=n("div",{style:{border:"var(--mainBorder)",borderRadius:"var(--mainBorderRadius)"},children:[n("div",{style:{padding:"6px",borderBottom:"var(--mainBorder)",backgroundColor:"var(--mainGray)",borderTopLeftRadius:"var(--mainBorderRadius)",borderTopRightRadius:"var(--mainBorderRadius)"},children:[r("a",{name:t}),l,r("br",{})]}),n("div",{style:{display:"block",padding:"6px"},children:[d,o]})]}));switch(e.containerTag){case"aside":return r(g,{partialVisibility:!0,onChange:v,children:n("aside",{id:t,style:{margin:"12px 0"},children:[" ",u," "]})});case"div":return r(g,{partialVisibility:!0,onChange:v,children:n("div",{id:t,style:{margin:"12px 0"},children:[" ",u," "]})});case"none":return r(m,{children:u});default:return r(g,{partialVisibility:!0,onChange:v,children:n("section",{id:t,style:{margin:"12px 0"},children:[" ",u," "]})})}});export{G as default};
