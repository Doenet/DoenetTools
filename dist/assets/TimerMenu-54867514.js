import{l as n,m as d,r as t,k as D,N as S,j as h}from"./index-9d63439d.js";import{l as w}from"./CourseToolHandler-d3661515.js";import{currentAttemptNumber as x}from"./AssignmentViewer-07288d77.js";import"./index-df71c5ec.js";import"./index-fcf36459.js";import"./index-47ca4f11.js";import"./index.esm-d6b6ff57.js";import"./setPrototypeOf-51e8cf87.js";/* empty css             */import"./ButtonGroup-ec02b3e9.js";import"./ActivityViewer-90c65d6d.js";import"./activityUtils-5d3d0ed0.js";import"./visibility-sensor-aefdbbd5.js";import"./ActionButton-056b08c3.js";import"./RoleDropdown-2d4e4388.js";import"./DropdownMenu-421d3462.js";function C(){const m=n(d("doenetId")),a=n(x),{timeLimit:o}=n(w(m));let[u,r]=t.useState("Unlimited");const[s,l]=t.useState(null),[c,f]=t.useState(new Date);let p=t.useRef(null);return t.useEffect(()=>{let i=new Date;D.get("/api/loadAttemptStartTime.php",{params:{doenetId:m,attemptNumber:a}}).then(({data:e})=>{e.attemptStart!==null&&(i=S(e.attemptStart));let T=new Date(i.getTime()+o*6e4*e.timeLimitMultiplier);l(T)}).catch(console.error)},[a,o,m,l]),t.useEffect(()=>{if(clearTimeout(p.current),o>0){let i=Math.floor((s-new Date)/6e4),e=(s-new Date)/6e4;e<=0?r("Time's Up"):(e<1?r("< 1 Min"):r(i===1?"1 Min":`${i} Mins`),p.current=setTimeout(()=>{e>=0&&f(new Date)},1e4))}},[c,s]),h("div",{style:{fontSize:"40px",textAlign:"center"},children:u})}export{C as default};
