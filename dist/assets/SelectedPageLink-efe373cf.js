import{R as L,p as A,e as c,s as P,z as u,A as d,r as m,ab as v,o as p,g as C,f as F,k as S,a as g,j as s,H as _,Z as j,F as y,aR as B,B as R}from"./index-a1cd8b25.js";import{A as T}from"./ActionButtonGroup-24932f5c.js";import"./Textfield-07b7a0c1.js";function V(){L(A);const f=c(P("courseId")),n=c(u)[0],o=c(d(n)),[x,b]=m.useState(o.label);let{updateContentLinksToSources:I}=v(f);p(({set:e})=>async(t,i,l)=>{await C.get("/api/renamePageLink.php",{params:{courseId:t,doenetId:i,label:l}}),e(d(i),r=>{let a={...r};return a.label=l,a})}),m.useEffect(()=>{x!==o.label&&b(o.label)},[n]);const k=F();let h=p(({snapshot:e,set:t})=>async()=>{const i=await e.getPromise(u);t(S,null),t(u,[]);for(let l of i)t(d(l),r=>{let a={...r};return a.isSelected=!1,a})}),w=g("h2",{"data-test":"infoPanelItemLabel",style:{margin:"16px 5px"},children:[s(_,{icon:j})," Link to ",o.label]});return g(y,{children:[w,s(T,{vertical:!0,children:s(B,{width:"menu",value:"View Page Link",onClick:()=>{h(),k(`/courselinkpageviewer/${n}/`)}})}),s("br",{}),s(R,{width:"menu",value:"Update Content to Source",onClick:e=>{e.preventDefault(),e.stopPropagation(),I({pages:[n]})}})]})}export{V as default};
