import{au as F,r as N,av as H,ab as G}from"./index-2be4b65a.js";var z={},Y={get exports(){return z},set exports(w){z=w}};(function(w,J){(function(U,p){w.exports=p(N,H)})(G,function(j,U){return function(p){var b={};function n(e){if(b[e])return b[e].exports;var o=b[e]={i:e,l:!1,exports:{}};return p[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=p,n.c=b,n.d=function(e,o,h){n.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:h})},n.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,o){if(o&1&&(e=n(e)),o&8||o&4&&typeof e=="object"&&e&&e.__esModule)return e;var h=Object.create(null);if(n.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:e}),o&2&&typeof e!="string")for(var s in e)n.d(h,s,function(d){return e[d]}.bind(null,s));return h},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},n.p="",n(n.s=4)}([function(p,b,n){p.exports=n(5)()},function(p,b){p.exports=j},function(p,b){p.exports=U},function(p,b){p.exports=function(n,e,o){var h=n.direction,s=n.value;switch(h){case"top":return o.top+s<e.top&&o.bottom>e.bottom&&o.left<e.left&&o.right>e.right;case"left":return o.left+s<e.left&&o.bottom>e.bottom&&o.top<e.top&&o.right>e.right;case"bottom":return o.bottom-s>e.bottom&&o.left<e.left&&o.right>e.right&&o.top<e.top;case"right":return o.right-s>e.right&&o.left<e.left&&o.top<e.top&&o.bottom>e.bottom}}},function(p,b,n){n.r(b),n.d(b,"default",function(){return W});var e=n(1),o=n.n(e),h=n(2),s=n.n(h),d=n(0),i=n.n(d),R=n(3),B=n.n(R);function _(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(l){return typeof l}:_=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},_(r)}function A(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function S(r,a){for(var l=0;l<a.length;l++){var t=a[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function x(r,a,l){return a&&S(r.prototype,a),l&&S(r,l),r}function P(r,a){return a&&(_(a)==="object"||typeof a=="function")?a:O(r)}function M(r){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},M(r)}function O(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function I(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&k(r,a)}function k(r,a){return k=Object.setPrototypeOf||function(t,y){return t.__proto__=y,t},k(r,a)}function v(r,a,l){return a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}function K(r){return r.width===void 0&&(r.width=r.right-r.left),r.height===void 0&&(r.height=r.bottom-r.top),r}var W=function(r){I(a,r);function a(l){var t;return A(this,a),t=P(this,M(a).call(this,l)),v(O(t),"getContainer",function(){return t.props.containment||window}),v(O(t),"addEventListener",function(y,f,u,g){t.debounceCheck||(t.debounceCheck={});var c,C,m=function(){c=null,t.check()};g>-1?C=function(){c||(c=setTimeout(m,g||0))}:C=function(){clearTimeout(c),c=setTimeout(m,u||0)};var D={target:y,fn:C,getLastTimeout:function(){return c}};y.addEventListener(f,D.fn),t.debounceCheck[f]=D}),v(O(t),"startWatching",function(){t.debounceCheck||t.interval||(t.props.intervalCheck&&(t.interval=setInterval(t.check,t.props.intervalDelay)),t.props.scrollCheck&&t.addEventListener(t.getContainer(),"scroll",t.props.scrollDelay,t.props.scrollThrottle),t.props.resizeCheck&&t.addEventListener(window,"resize",t.props.resizeDelay,t.props.resizeThrottle),!t.props.delayedCall&&t.check())}),v(O(t),"stopWatching",function(){if(t.debounceCheck){for(var y in t.debounceCheck)if(t.debounceCheck.hasOwnProperty(y)){var f=t.debounceCheck[y];clearTimeout(f.getLastTimeout()),f.target.removeEventListener(y,f.fn),t.debounceCheck[y]=null}}t.debounceCheck=null,t.interval&&(t.interval=clearInterval(t.interval))}),v(O(t),"check",function(){var y=t.node,f,u;if(!y)return t.state;if(f=K(t.roundRectDown(y.getBoundingClientRect())),t.props.containment){var g=t.props.containment.getBoundingClientRect();u={top:g.top,left:g.left,bottom:g.bottom,right:g.right}}else u={top:0,left:0,bottom:window.innerHeight||document.documentElement.clientHeight,right:window.innerWidth||document.documentElement.clientWidth};var c=t.props.offset||{},C=_(c)==="object";C&&(u.top+=c.top||0,u.left+=c.left||0,u.bottom-=c.bottom||0,u.right-=c.right||0);var m={top:f.top>=u.top,left:f.left>=u.left,bottom:f.bottom<=u.bottom,right:f.right<=u.right},D=f.height>0&&f.width>0,T=D||!t.props.requireContentsSize,E=T&&m.top&&m.left&&m.bottom&&m.right;if(T&&t.props.partialVisibility){var V=f.top<=u.bottom&&f.bottom>=u.top&&f.left<=u.right&&f.right>=u.left;typeof t.props.partialVisibility=="string"&&(V=m[t.props.partialVisibility]),E=t.props.minTopValue?V&&f.top<=u.bottom-t.props.minTopValue:V}typeof c.direction=="string"&&typeof c.value=="number"&&(console.warn("[notice] offset.direction and offset.value have been deprecated. They still work for now, but will be removed in next major version. Please upgrade to the new syntax: { %s: %d }",c.direction,c.value),E=B()(c,f,u));var L=t.state;return t.state.isVisible!==E&&(L={isVisible:E,visibilityRect:m},t.setState(L),t.props.onChange&&t.props.onChange(E)),L}),t.state={isVisible:null,visibilityRect:{}},t}return x(a,[{key:"componentDidMount",value:function(){this.node=s.a.findDOMNode(this),this.props.active&&this.startWatching()}},{key:"componentWillUnmount",value:function(){this.stopWatching()}},{key:"componentDidUpdate",value:function(t){this.node=s.a.findDOMNode(this),this.props.active&&!t.active?(this.setState({isVisible:null,visibilityRect:{}}),this.startWatching()):this.props.active||this.stopWatching()}},{key:"roundRectDown",value:function(t){return{top:Math.floor(t.top),left:Math.floor(t.left),bottom:Math.floor(t.bottom),right:Math.floor(t.right)}}},{key:"render",value:function(){return this.props.children instanceof Function?this.props.children({isVisible:this.state.isVisible,visibilityRect:this.state.visibilityRect}):o.a.Children.only(this.props.children)}}]),a}(o.a.Component);v(W,"defaultProps",{active:!0,partialVisibility:!1,minTopValue:0,scrollCheck:!1,scrollDelay:250,scrollThrottle:-1,resizeCheck:!1,resizeDelay:250,resizeThrottle:-1,intervalCheck:!0,intervalDelay:100,delayedCall:!1,offset:{},containment:null,children:o.a.createElement("span",null),requireContentsSize:!0}),v(W,"propTypes",{onChange:i.a.func,active:i.a.bool,partialVisibility:i.a.oneOfType([i.a.bool,i.a.oneOf(["top","right","bottom","left"])]),delayedCall:i.a.bool,offset:i.a.oneOfType([i.a.shape({top:i.a.number,left:i.a.number,bottom:i.a.number,right:i.a.number}),i.a.shape({direction:i.a.oneOf(["top","right","bottom","left"]),value:i.a.number})]),scrollCheck:i.a.bool,scrollDelay:i.a.number,scrollThrottle:i.a.number,resizeCheck:i.a.bool,resizeDelay:i.a.number,resizeThrottle:i.a.number,intervalCheck:i.a.bool,intervalDelay:i.a.number,containment:typeof window<"u"?i.a.instanceOf(window.Element):i.a.any,children:i.a.oneOfType([i.a.element,i.a.func]),minTopValue:i.a.number,requireContentsSize:i.a.bool})},function(p,b,n){var e=n(6);function o(){}function h(){}h.resetWarningCache=o,p.exports=function(){function s(R,B,_,A,S,x){if(x!==e){var P=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw P.name="Invariant Violation",P}}s.isRequired=s;function d(){return s}var i={array:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:d,element:s,elementType:s,instanceOf:d,node:s,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:h,resetWarningCache:o};return i.PropTypes=i,i}},function(p,b,n){var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";p.exports=e}])})})(Y);const X=F(z);export{X as V};
