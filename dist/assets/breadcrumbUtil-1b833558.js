import{f as w,R as f,p as a,e as l,G as m,as as p,A as v,E as g,l as y}from"./index-a1cd8b25.js";import{e as I}from"./RoleDropdown-6cbb7a86.js";import{studentData as A,assignmentData as _}from"./Gradebook-b70ece1a.js";function N(){const e=w();return{label:"Courses",onClick:()=>{e("/courses")}}}function V(e){const t=f(a),n=l(m(e));return{label:n==null?void 0:n.label,onClick:()=>{t({page:"course",tool:"dashboard",view:"",params:{courseId:e}})}}}const k=p({key:"navigationSelectorFamily/Default",get:({courseId:e,parentDoenetId:t})=>async({get:n})=>{async function s({courseId:u,parentDoenetId:o}){if(o===""||o===void 0)return[];const{label:c,parentDoenetId:r,type:b}=await n(v(o));return u===r?[{label:c,parentDoenetId:o,type:b}]:[...await s({courseId:u,parentDoenetId:r}),{label:c,parentDoenetId:o,type:b}]}return await s({courseId:e,parentDoenetId:t})}});function $(e,t){const n=f(a),s=l(k({courseId:e,parentDoenetId:t})),u=[{label:"Content",onClick:()=>{n({page:"course",tool:"navigation",view:"",params:{courseId:e}})}}];for(let{label:o,parentDoenetId:c,type:r}of s)switch(r){case"section":u.push({label:o,onClick:()=>{n({page:"course",tool:"navigation",view:"",params:{courseId:e,sectionId:c}})}});break;default:console.warn(`Unsupported navigration crumb type: ${r}`)}return u}function x({pageId:e,doenetId:t,linkPageId:n}){const s=f(a),u=l(v(e));let{label:o}=u;const c=l(v(n));n&&({label:o}=c);const r=l(v(t));let{label:b}=r,i=[{label:b??"_",onClick:()=>{s({page:"course",tool:"editor",view:"",params:{doenetId:t,pageId:e}})}}];if(!r.isSinglePage&&r.type!="bank"&&!n){let d=g(r.content);i=[{label:b??"_",onClick:()=>{s({page:"course",tool:"editor",view:"",params:{doenetId:t,pageId:d}})}},{label:o??"_",onClick:()=>{s({page:"course",tool:"editor",view:"",params:{doenetId:t,pageId:e}})}}]}return r.type=="bank"&&(i=[{label:o??"_",onClick:()=>{s({page:"course",tool:"editor",view:"",params:{doenetId:t,pageId:e}})}}]),n&&(i=[{label:o??"_",onClick:()=>{s({page:"course",tool:"editor",view:"",params:{linkPageId:n}})}}]),i}function G({doenetId:e}){const t=f(a),{label:n}=l(v(e));return{label:n??"_",onClick:()=>{t({page:"course",tool:"assignment",view:"",params:{doenetId:e}})}}}function R(e){const t=f(a);return{label:"People",onClick:()=>{t({page:"course",tool:"people",view:"",params:{courseId:e}})}}}function O(e,t){const n=f(a),s=l(k({courseId:e,parentDoenetId:t})),u=[{label:"Data",onClick:()=>{n({page:"course",tool:"data",view:"",params:{courseId:e}})}}];for(let{label:o,parentDoenetId:c,type:r}of s)switch(r){case"section":u.push({label:o,onClick:()=>{n({page:"course",tool:"data",view:"",params:{courseId:e,sectionId:c}})}});break;default:console.warn(`Unsupported navigration crumb type: ${r}`)}return u}function j(){var r,b;const[{params:e,tool:t},n]=y(a);let s=[];const{canViewAndModifyGrades:u}=l(I(e==null?void 0:e.courseId)),o=l(A),c=l(_);if(u=="1"){let i={courseId:e==null?void 0:e.courseId};s.push({label:"Gradebook",onClick:()=>{n({page:"course",tool:"gradebook",view:"",params:i})}})}if(t=="gradebook")return s;if(t=="gradebookStudent"||u!="1"&&t=="gradebookStudentAssignment"||(e==null?void 0:e.previousCrumb)=="student"&&t=="gradebookStudentAssignment"){let i="Gradebook";if(u=="1"){const C=o[e==null?void 0:e.userId];i=`${C.firstName} ${C.lastName}`}let d={courseId:e==null?void 0:e.courseId,userId:e==null?void 0:e.userId};s.push({label:i,onClick:()=>{n({page:"course",tool:"gradebookStudent",view:"",params:d})}})}if(t=="gradebookStudent")return s;if(t=="gradebookAssignment"||(e==null?void 0:e.previousCrumb)=="assignment"&&t=="gradebookStudentAssignment")if(u!="1")s.push({label:"Not Available"});else{let i=(r=c==null?void 0:c[e==null?void 0:e.doenetId])==null?void 0:r.label;i||(i="_");let d={courseId:e==null?void 0:e.courseId,doenetId:e==null?void 0:e.doenetId};s.push({label:i,onClick:()=>{n({page:"course",tool:"gradebookAssignment",view:"",params:d})}})}if(t=="gradebookAssignment")return s;if(u!="1"){let i=(b=c==null?void 0:c[e==null?void 0:e.doenetId])==null?void 0:b.label;i||(i="_");let d={courseId:e==null?void 0:e.courseId,userId:e==null?void 0:e.userId,doenetId:e==null?void 0:e.doenetId};s.push({label:i,onClick:()=>{n({page:"course",tool:"gradebookStudentAssignment",view:"",params:d})}})}else{let i="_";if((e==null?void 0:e.previousCrumb)=="student"&&(i=c[e==null?void 0:e.doenetId].label),(e==null?void 0:e.previousCrumb)=="assignment"){const C=o[e==null?void 0:e.userId];i=`${C.firstName} ${C.lastName}`}let d={courseId:e==null?void 0:e.courseId,userId:e==null?void 0:e.userId,doenetId:e==null?void 0:e.doenetId,previousCrumb:e==null?void 0:e.previousCrumb};s.push({label:i,onClick:()=>{n({page:"course",tool:"gradebookStudentAssignment",view:"",params:d})}})}return s}export{V as a,$ as b,R as c,O as d,x as e,j as f,G as g,N as u};
