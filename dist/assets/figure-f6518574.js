import{ao as V,bn as A,r as h,j as t,bp as H,a as m}from"./index-8f45050f.js";import{M as E}from"./index.esm-1fca1ed4.js";const S=V.memo(function(g){var u;let{name:R,id:r,SVs:a,children:l,actions:c,callAction:d}=A(g),y=e=>{d({action:c.recordVisibilityChange,args:{isVisible:e}})};if(h.useEffect(()=>()=>{d({action:c.recordVisibilityChange,args:{isVisible:!1}})},[]),a.hidden||!l)return null;let f=l,s=null,o=null;if(a.captionChildName){let e;for(let[i,n]of l.entries())if(((u=n==null?void 0:n.props)==null?void 0:u.componentInstructions.componentName)===a.captionChildName){e=i;break}o=l[e],f.splice(e,1)}if(a.suppressFigureNameInCaption)o&&(s=t("div",{children:o}));else{let e=t("strong",{children:a.figureName});o?s=m("div",{children:[e,": ",o]}):s=t("div",{children:e})}const[C,p]=h.useState("center");function v(e){var i=document.createElement(e.nodeName),n;return i.setAttribute("style","margin:0; padding:0; font-family:"+(e.style.fontFamily||"inherit")+"; font-size:"+(e.style.fontSize||"inherit")),i.innerHTML="A",e.parentNode.appendChild(i),n=i.clientHeight,i.parentNode.removeChild(i),n}function b(){var e=document.getElementById(r+"_caption"),i=e.offsetHeight,n=v(document.getElementById(r+"_caption")),x=Math.round(i/n);return x}function N(){b()>=2?p("left"):p("center")}return t(H,{partialVisibility:!0,onChange:y,children:m("figure",{id:r,style:{margin:"12px 0"},children:[t("a",{name:r}),f,t("figcaption",{id:r+"_caption",children:t(E,{onResize:N,children:({measureRef:e})=>t("div",{ref:e,style:{textAlign:C},children:s})})})]})})});export{S as default};
