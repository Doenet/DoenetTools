import{e as n,s as S,z as v,A,ab as m,r as f,v as C,a as g,F as I,j as s,aP as F,w as L,B as y,H as w,T as B}from"./index-66847aab.js";import{e as P}from"./RoleDropdown-98d497ff.js";import{T as k}from"./Textfield-0a3f0bd3.js";import"./DropdownMenu-fd0518ab.js";function _(){const o=n(S("courseId")),a=n(v)[0],{canEditContent:b}=n(P(o)),{label:t,isAssigned:i}=n(A(a)),{renameItem:p,deleteItem:x}=m(o),[l,c]=f.useState(t),{updateAssignItem:T}=m(o);let r="Assign Section";i&&(r="Unassign Section"),f.useEffect(()=>{c(t)},[t]);const d=()=>{let e=l;l===""&&(e=t,t===""&&(e="Untitled"),c(e)),t!==e&&p(a,e)},h=C();let u=g("h2",{"data-test":"infoPanelItemLabel",style:{margin:"16px 5px"},children:[s(w,{icon:B})," ",t]});return b==="1"?g(I,{children:[u,s(F,{width:"menu",value:r,onClick:()=>{let e="Section Assigned.";i&&(e="Section Unassigned."),T({doenetId:a,isAssigned:!i,successCallback:()=>{h(e,L.INFO)}})}}),s(k,{label:"Label",vertical:!0,dataTest:"Label Section",width:"menu",value:l,onChange:e=>c(e.target.value),onKeyDown:e=>{e.keyCode===13&&d()},onBlur:d}),s("br",{}),s(y,{width:"menu",value:"Delete Section",alert:!0,onClick:e=>{e.preventDefault(),e.stopPropagation(),x({doenetId:a})}})]}):s(I,{children:u})}export{_ as default};
