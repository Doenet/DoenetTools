import { c as createCommonjsModule, a as commonjsGlobal } from './common/_commonjsHelpers-f5d70792.js';
import { r as react } from './common/index-61623f21.js';

var MathJaxContext_1 = createCommonjsModule(function (module, exports) {
var __assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return (__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},__createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}});}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r];}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t});}:function(e,t){e.default=t;}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.MathJaxBaseContext=void 0;var react_1=__importStar(react);exports.MathJaxBaseContext=react_1.createContext(void 0);var v2Promise,v3Promise,DEFAULT_V2_SRC="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",DEFAULT_V3_SRC="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js",MathJaxContext=function(e){var n=e.config,t=e.version,o=void 0===t?3:t,r=e.src,i=void 0===r?2===o?DEFAULT_V2_SRC:DEFAULT_V3_SRC:r,a=e.onStartup,s=e.onLoad,d=e.onError,u=e.typesettingOptions,c=e.renderMode,l=void 0===c?"post":c,t=e.hideUntilTypeset,r=e.children,c=react_1.useContext(exports.MathJaxBaseContext);if(void 0!==(null==c?void 0:c.version)&&(null==c?void 0:c.version)!==o)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they inherit several properties. If you need different versions, then use multiple, non-nested, MathJaxContexts in your app.");e=react_1.useRef(c),c=react_1.useRef((null==c?void 0:c.version)||null);if(null===c.current)c.current=o;else if(c.current!==o)throw Error("Cannot change version of MathJax in a MathJaxContext after component has mounted. Either reload the page with a new setting when this should happen or use multiple, non-nested, MathJaxContexts in your app.");var h=i||(2===o?DEFAULT_V2_SRC:DEFAULT_V3_SRC);function f(t,r){n&&(window.MathJax=n);var e=document.createElement("script");e.type="text/javascript",e.src=i||(2===o?DEFAULT_V2_SRC:DEFAULT_V3_SRC),e.async=!1,e.addEventListener("load",function(){var e=window.MathJax;a&&a(e),t(e),s&&s();}),e.addEventListener("error",function(e){return r(e)}),document.getElementsByTagName("head")[0].appendChild(e);}return void 0===e.current&&(t={typesettingOptions:u,renderMode:l,hideUntilTypeset:t},2===o?void 0===v2Promise&&("undefined"!=typeof window?(v2Promise=new Promise(f)).catch(function(e){if(!d)throw Error("Failed to download MathJax version 2 from '"+h+"' due to: "+e);d(e);}):(v2Promise=Promise.reject()).catch(function(e){})):void 0===v3Promise&&("undefined"!=typeof window?(v3Promise=new Promise(f)).catch(function(e){if(!d)throw Error("Failed to download MathJax version 3 from '"+h+"' due to: "+e);d(e);}):(v3Promise=Promise.reject()).catch(function(e){})),e.current=__assign(__assign({},t),2===o?{version:2,promise:v2Promise}:{version:3,promise:v3Promise})),react_1.default.createElement(exports.MathJaxBaseContext.Provider,{value:e.current},r)};exports.default=MathJaxContext;
});

var MathJax_1 = createCommonjsModule(function (module, exports) {
var __assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return (__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},__createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}});}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r];}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t});}:function(e,t){e.default=t;}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__rest=commonjsGlobal&&commonjsGlobal.__rest||function(e,t){var r={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(react),typesettingFailed=function(e){return "Typesetting failed: "+(void 0!==e.message?e.message:e.toString())},MathJax=function(e){function n(){"every"===h&&u&&"post"===y&&null!==d.current&&(d.current.style.visibility="visible"),v.current||("first"===h&&null!==d.current&&(d.current.style.visibility="visible"),o&&o(),v.current=!0),s&&s(),g.current=!1;}var t=e.inline,i=void 0!==t&&t,r=e.hideUntilTypeset,o=e.onInitTypeset,s=e.onTypeset,a=e.text,u=e.dynamic,c=e.typesettingOptions,l=e.renderMode,t=e.children,e=__rest(e,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),p=react_1.useRef(""),d=react_1.useRef(null),f=react_1.useContext(MathJaxContext_1.MathJaxBaseContext),h=void 0===r?null==f?void 0:f.hideUntilTypeset:r,y=void 0===l?null==f?void 0:f.renderMode:l,_=void 0===c?null==f?void 0:f.typesettingOptions:c,v=react_1.useRef(!1),g=react_1.useRef(!1);return !g.current&&null!==d.current&&u&&"every"===h&&"post"===y&&(d.current.style.visibility="hidden"),("undefined"!=typeof window?react_1.useLayoutEffect:react_1.useEffect)(function(){if((u||!v.current)&&null!==d.current){if(!f)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if("pre"===y){if(!("string"==typeof(e=a)&&0<e.length))throw Error("Render mode 'pre' requires text prop to be set and non-empty, which was currently \""+a+'"');if(!c||!c.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(2===f.version)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}"post"!==y&&a===p.current||g.current||(g.current=!0,3===f.version?f.promise.then(function(t){var r;"pre"===y?(r=function(e){p.current=a,t.startup.document.clear(),t.startup.document.updateDocument(),null!==d.current&&(d.current.innerHTML=e.outerHTML),n();},c.fn.endsWith("Promise")?t.startup.promise.then(function(){return t[_.fn](a,__assign(__assign({},(null==_?void 0:_.options)||{}),{display:!i}))}).then(r).catch(function(e){throw n(),Error(typesettingFailed(e))}):t.startup.promise.then(function(){var e=t[_.fn](a,__assign(__assign({},(null==_?void 0:_.options)||{}),{display:!i}));r(e);}).catch(function(e){throw n(),Error(typesettingFailed(e))})):t.startup.promise.then(function(){return t.typesetClear([d.current]),t.typesetPromise([d.current])}).then(n).catch(function(e){throw n(),Error(typesettingFailed(e))});}).catch(function(e){throw n(),Error(typesettingFailed(e))}):f.promise.then(function(e){e.Hub.Queue(["Typeset",e.Hub,d.current]),e.Hub.Queue(n);}).catch(function(e){throw n(),Error(typesettingFailed(e))}));}var e;}),react_1.default.createElement("span",__assign({},e,{style:__assign(__assign({display:i?"inline":"block"},e.style),{visibility:h?"hidden":void 0}),ref:d}),t)};exports.default=MathJax;
});

var betterReactMathjax = createCommonjsModule(function (module, exports) {
var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.MathJaxBaseContext=exports.MathJaxContext=exports.MathJax=void 0;Object.defineProperty(exports,"MathJax",{enumerable:!0,get:function(){return __importDefault(MathJax_1).default}});Object.defineProperty(exports,"MathJaxContext",{enumerable:!0,get:function(){return __importDefault(MathJaxContext_1).default}}),Object.defineProperty(exports,"MathJaxBaseContext",{enumerable:!0,get:function(){return MathJaxContext_1.MathJaxBaseContext}});
});

var MathJax = betterReactMathjax.MathJax;
var MathJaxContext = betterReactMathjax.MathJaxContext;
export { MathJax, MathJaxContext };
